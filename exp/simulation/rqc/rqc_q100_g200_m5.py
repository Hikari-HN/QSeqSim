from qiskit import QuantumCircuit, QuantumRegister, ClassicalRegister
import math

# Benchmark Configuration
# Target Qubits: 100
# Target Gates: 200
# Target Mid-Circuit Measurements: 5

q = QuantumRegister(100, 'q')
c = ClassicalRegister(5, 'c')
circ = QuantumCircuit(q, c)

# --- Initialization ---
circ.cx(q[11], q[39])
circ.t(q[79])
circ.s(q[42])
circ.h(q[86])
circ.h(q[17])
circ.h(q[8])
circ.rz(math.pi/2, q[97])
circ.cz(q[34], q[5])
circ.h(q[83])
circ.s(q[20])
circ.x(q[23])
circ.rz(math.pi/2, q[53])
circ.cz(q[56], q[20])
circ.cz(q[9], q[50])
circ.h(q[69])
circ.s(q[78])
circ.cx(q[94], q[84])
circ.s(q[27])
circ.t(q[40])
circ.h(q[48])

# --- SQC Block: While Loop (Controlled by c[0]) ---
with circ.while_loop((c[0], 0)):
    # Loop Body
    circ.cx(q[46], q[13])
    circ.x(q[2])
    circ.cx(q[86], q[51])
    circ.cz(q[56], q[39])
    circ.s(q[18])
    circ.x(q[82])
    circ.cz(q[83], q[71])
    circ.cz(q[98], q[69])
    circ.s(q[80])
    circ.h(q[26])
    circ.cz(q[21], q[36])
    circ.h(q[91])
    circ.h(q[77])
    circ.s(q[57])
    circ.rz(math.pi/2, q[55])
    circ.h(q[20])
    circ.s(q[63])
    circ.cz(q[4], q[43])
    circ.cz(q[42], q[61])
    circ.t(q[89])
    circ.cz(q[47], q[44])
    circ.x(q[38])
    circ.x(q[50])
    circ.h(q[16])
    circ.s(q[84])
    circ.cx(q[57], q[44])
    circ.cz(q[6], q[46])
    circ.cz(q[10], q[39])
    circ.cz(q[77], q[56])
    circ.s(q[70])
    circ.x(q[5])
    circ.h(q[11])
    circ.s(q[29])
    circ.cz(q[27], q[24])
    circ.cx(q[46], q[94])
    # DQC: Mid-circuit measurement
    circ.measure(q[60], c[1])
    with circ.if_test((c[1], 1)):
        circ.cx(q[36], q[58])
        circ.x(q[19])
    circ.t(q[79])
    circ.t(q[36])
    circ.rz(math.pi/2, q[34])
    circ.x(q[56])
    circ.s(q[95])
    circ.cx(q[33], q[72])
    circ.rz(math.pi/2, q[48])
    circ.s(q[68])
    circ.rz(math.pi/2, q[7])
    circ.cz(q[93], q[14])
    circ.h(q[64])
    circ.s(q[19])
    circ.h(q[39])
    circ.s(q[48])
    circ.t(q[35])
    circ.h(q[35])
    circ.cz(q[49], q[78])
    circ.h(q[47])
    circ.s(q[16])
    circ.t(q[5])
    circ.cz(q[82], q[50])
    circ.s(q[70])
    circ.h(q[52])
    circ.cz(q[93], q[13])
    circ.t(q[52])
    circ.rz(math.pi/2, q[36])
    circ.x(q[9])
    circ.t(q[76])
    circ.t(q[34])
    circ.t(q[14])
    circ.cx(q[33], q[80])
    circ.cx(q[67], q[61])
    circ.h(q[1])
    circ.t(q[28])
    circ.rz(math.pi/2, q[56])
    # DQC: Mid-circuit measurement
    circ.measure(q[25], c[2])
    with circ.if_test((c[2], 1)):
        circ.x(q[32])
        circ.cx(q[88], q[2])
    circ.t(q[15])
    circ.s(q[70])
    circ.rz(math.pi/2, q[40])
    circ.s(q[5])
    circ.t(q[33])
    circ.t(q[63])
    circ.cx(q[39], q[9])
    circ.cx(q[15], q[96])
    circ.x(q[93])
    circ.s(q[26])
    circ.cz(q[13], q[29])
    circ.rz(math.pi/2, q[39])
    circ.x(q[82])
    circ.rz(math.pi/2, q[78])
    circ.rz(math.pi/2, q[27])
    circ.cx(q[7], q[56])
    circ.cx(q[63], q[73])
    circ.cz(q[11], q[20])
    circ.rz(math.pi/2, q[25])
    circ.rz(math.pi/2, q[85])
    circ.rz(math.pi/2, q[93])
    circ.cx(q[22], q[14])
    circ.h(q[16])
    circ.h(q[18])
    circ.cx(q[91], q[61])
    circ.t(q[79])
    circ.cx(q[16], q[69])
    circ.cx(q[7], q[41])
    circ.rz(math.pi/2, q[65])
    circ.t(q[55])
    circ.cz(q[19], q[68])
    circ.cx(q[87], q[85])
    circ.cx(q[46], q[95])
    circ.h(q[99])
    circ.t(q[63])
    # DQC: Mid-circuit measurement
    circ.measure(q[60], c[3])
    with circ.if_test((c[3], 1)):
        circ.x(q[59])
        circ.cz(q[94], q[10])
    circ.cx(q[40], q[89])
    circ.x(q[30])
    circ.s(q[32])
    circ.cz(q[47], q[68])
    circ.x(q[78])
    circ.cx(q[25], q[67])
    circ.rz(math.pi/2, q[6])
    circ.t(q[86])
    circ.t(q[95])
    circ.cx(q[91], q[12])
    circ.s(q[7])
    circ.s(q[99])
    circ.t(q[73])
    circ.cz(q[43], q[52])
    circ.cx(q[14], q[15])
    circ.h(q[1])
    circ.h(q[53])
    circ.cz(q[81], q[65])
    circ.x(q[66])
    circ.h(q[1])
    circ.cz(q[29], q[65])
    circ.x(q[33])
    circ.cz(q[13], q[77])
    circ.rz(math.pi/2, q[14])
    circ.cx(q[18], q[47])
    circ.t(q[94])
    circ.x(q[63])
    circ.rz(math.pi/2, q[94])
    circ.rz(math.pi/2, q[8])
    circ.s(q[81])
    circ.t(q[22])
    circ.cz(q[41], q[44])
    circ.cz(q[41], q[56])
    circ.s(q[22])
    circ.x(q[72])
    # DQC: Mid-circuit measurement
    circ.measure(q[37], c[4])
    with circ.if_test((c[4], 1)):
        circ.cx(q[41], q[66])
        circ.s(q[29])
    circ.h(q[8])
    circ.rz(math.pi/2, q[92])
    circ.t(q[56])
    circ.h(q[11])
    circ.t(q[79])
    circ.x(q[45])
    circ.x(q[31])
    circ.cx(q[2], q[89])
    circ.s(q[25])
    circ.cz(q[27], q[94])
    circ.rz(math.pi/2, q[33])
    circ.t(q[84])
    circ.x(q[68])
    circ.t(q[55])
    circ.h(q[21])
    circ.rz(math.pi/2, q[89])
    circ.x(q[62])
    circ.cx(q[57], q[9])
    circ.cz(q[43], q[25])
    circ.h(q[88])
    circ.cz(q[17], q[16])
    circ.s(q[85])
    circ.s(q[19])
    circ.h(q[58])
    circ.x(q[61])
    circ.cx(q[40], q[43])
    circ.x(q[83])
    circ.cx(q[45], q[70])
    circ.h(q[95])
    circ.rz(math.pi/2, q[84])
    # Update Loop Condition (Must be FINAL op for q[0])
    # Ensure termination: Reset q[0] to |0> then apply H
    circ.reset(q[0])
    circ.h(q[0])
    circ.measure(q[0], c[0])

# Simulator Configuration by User
sim_mode = 'sample'
# No preset values needed for sample mode